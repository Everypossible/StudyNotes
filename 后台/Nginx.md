# 1、Nginx 基本概念

Nginx是什么

Nginx(engine x)是一个高性能的HTTP和反向代理 **web服务器**，同时也提供了IMAP/POP3/SMTP服务。

Nginx是一款轻量级的Web服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，在BSD-like 协议下发行。其特点是占有存少，并发能力强，事实上nginx的并发能力确实在同类型的网页服务器中表现较好，中国大陆使用nginx网站用户有：百度、京东、新浪、网易、腾讯、淘宝等。



反向代理

Nginx 不仅可以做反向代理，实现负载均衡。还可以用作 正向代理 来进行上网功能。

正向代理：如果把局域网外的lnternet想象成一个巨大的资源库，则局域网中的客户端要访问lnternet，则需要通过 **代理服务器** 来访问，这种代理服务就称为正向代理。

反向代理：其实客户端对代理是无感知的，因为 客户端不需要任何配置 就可以访问，我们只需要将请求发送到 反向代理服务器，由反向代理服务器 去选择 目标服务器 获取数据后，再返回给客户端，此时反向代理服务器和目标服务器对外就是一个服务器，暴露的是代理服务器地址，隐藏了真实服务器IP地址。

![image-20210819201855247](C:\Users\RS\AppData\Roaming\Typora\typora-user-images\image-20210819201855247.png)







负载均衡

​       客户端发送多个请求到服务器，服务器处理请求，有一些可能要与数据库进行交互，服务器处理完毕后，再将结果返回给客户端。这种架构模式对于早期的系统相对单一，并发请求相对较少的情况下是比较适合的，成本也低。但是随着信息数量的不断增长，访问量和数据量的飞速增长，以及系统业务的复杂度增加，这种架构会造成服务器相应客户端的请求日益缓慢，并发量特别大的时候，还容易造成服务器直接崩溃。很明显这是由于服务器性能的瓶颈造成的问题，那么如何解决这种情况呢?
​       我们首先想到的可能是升级服务器的配置，比如提高CPU执行频率，加大内存等提高机器的物理性能来解决此问题，但是我们知道**摩尔定律** 的日益失效，硬件的性能提升已经不能满足日益提升的需求了。最明显的一个例子，天猫双十一当天，某个热销商品的瞬时访问量是极其庞大的，那么类似上面的系统架构，将机器都增加到现有的顶级物理配置，都是不能够满足需求的。那么怎么办呢?

​		单个服务器解决不了，我们增加服务器的数量，然后将请求分发到各个服务器上，**将原先请求集中到单个服务器上的情况改为将请求分发到多个服务器上**，将负载分发到不同的服务器，也就是我们所说的 **负载均衡**。

<img src="C:\Users\RS\AppData\Roaming\Typora\typora-user-images\image-20210822172541035.png" alt="image-20210822172541035" style="zoom: 80%;" />







动静分离

​		为了加快网站的解析速度，可以把动态页面和静态页面由不同的服务器来解析，加快解析速度。降低原来单个服务器的压力。

<img src="C:\Users\RS\AppData\Roaming\Typora\typora-user-images\image-20210822172852614.png" alt="image-20210822172852614" style="zoom: 50%;" />





# 2、Nginx安装、常用命令和配置文件

在 Linux 中安装Nginx

Nginx 常用命令

Nginx配置文件





# 3、Nginx 配置实例

Nginx配置实例1 -- 反向代理 

Nginx配置实例1 -- 负载均衡

Nginx配置实例1 -- 动静分离





# 4、Nginx 原理